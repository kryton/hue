{"body":"<div><div id=\"shutdown\"><div class=\"hue-doc-title\">SHUTDOWN Statement</div><div><p>\n      The <span class=\"hue-doc-codeph\">SHUTDOWN</span> statement performs a graceful shutdown of Impala Daemon. The\n      Impala daemon will notify other Impala daemons that it is shutting down, wait for a grace\n      period, then shut itself down once no more queries or fragments are executing on that\n      daemon. The <span class=\"hue-doc-codeph\">--shutdown_grace_period_s</span> flag determines the duration of the\n      grace period in seconds.\n    </p><p><b>Syntax:</b></p><div class=\"hue-doc-codeblock\">:SHUTDOWN()\n:SHUTDOWN([<span class=\"hue-doc-varname\">host_name</span>[:<span class=\"hue-doc-varname\">port_number</span>] )\n:SHUTDOWN(<span class=\"hue-doc-varname\">deadline</span>)\n:SHUTDOWN([<span class=\"hue-doc-varname\">host_name</span>[:<span class=\"hue-doc-varname\">port_number</span>], <span class=\"hue-doc-varname\">deadline</span>)</div><p><b>Usage notes:</b></p><p>\n      All arguments are optional for <span class=\"hue-doc-codeph\">SHUTDOWN</span>.\n    </p><table id=\"simpletable_sly_wrf_rfb\"><tr class=\"hue-doc-sthead\"><td>Argument</td><td>Type</td><td>Default</td><td>Description</td></tr><tr><td><span class=\"hue-doc-codeph\"><span class=\"hue-doc-varname\">host_name</span></span></td><td><span class=\"hue-doc-codeph\">STRING</span></td><td>The current <span class=\"hue-doc-codeph\">impalad</span> host</td><td><p>\n            Address of the backend to be shut down.\n          </p></td></tr><tr><td><span class=\"hue-doc-codeph\"><span class=\"hue-doc-varname\">port_number</span></span></td><td><span class=\"hue-doc-codeph\">INT</span></td><td><span class=\"hue-doc-codeph\">0</span> which is treated the same port as current\n            <span class=\"hue-doc-codeph\">impalad</span></td><td>n/a</td></tr><tr><td><span class=\"hue-doc-codeph\"><span class=\"hue-doc-varname\">deadline</span></span></td><td><span class=\"hue-doc-codeph\">INT</span></td><td><span class=\"hue-doc-codeph\">The value of the <span class=\"hue-doc-codeph\">--shutdown_deadline_s</span>\n            flag, which defaults to 1 hour.</span></td><td><p><span class=\"hue-doc-codeph\"><span class=\"hue-doc-varname\">deadline</span></span> must be a non-negative number,\n            specified in seconds.\n          </p><p>\n            The value, 0, for <span class=\"hue-doc-varname\">deadline</span> specifies an immediate shutdown.\n          </p></td></tr></table><p>\n      Take the following points into consideration when running the <span class=\"hue-doc-codeph\">SHUTDOWN</span>\n      statement:\n    </p><ul><li>\n        A client can shut down the\n        <a class=\"hue-doc-external-link\" href=\"https://www.cloudera.com/documentation/enterprise/latest/topics/impala_components.html#intro_impalad\" target=\"_blank\">coordinator</a><span class=\"hue-doc-codeph\">impalad</span> that it is connected to via <span class=\"hue-doc-codeph\">:SHUTDOWN()</span>.\n      </li><li>\n        A client can remotely shut down another non-coordinator <span class=\"hue-doc-codeph\">impalad</span> via\n        <span class=\"hue-doc-codeph\">:SHUTDOWN('<span class=\"hue-doc-varname\">hostname</span>')</span>.\n      </li><li>\n        The shutdown time limit can be overridden to force a quicker or slower shutdown by\n        specifying a deadline. The default deadline is determined by the\n        <span class=\"hue-doc-codeph\">--shutdown_deadline_s</span> flag, which defaults to 1 hour.\n      </li><li><a class=\"hue-doc-external-link\" href=\"https://www.cloudera.com/documentation/enterprise/latest/topics/impala_components.html#intro_impalad\" target=\"_blank\">Executors</a> can be shut down\n        without disrupting running queries. Short-running queries will finish, and long-running\n        queries will continue until a threshold time limit is reached.\n      </li><li>\n        If queries are submitted to a coordinator after shutdown of that coordinator has\n        started, they will fail.\n      </li><li>\n        Long running queries or other issues, such as stuck fragments, will slow down but not\n        prevent eventual shutdown.\n      </li></ul><p><b>Security considerations:</b></p><p>\n      The <span class=\"hue-doc-codeph\">ALL</span> privilege is required on the server.\n    </p><p id=\"cancel_blurb_no\"><b>Cancellation:</b> Cannot be cancelled.\n      </p><p><b>Examples:</b></p><div class=\"hue-doc-codeblock\">:SHUTDOWN(); -- Shut down the current impalad  with the default deadline.\n:SHUTDOWN('hostname'); --  Shut down impalad running on hostname  with the default deadline.\n:SHUTDOWN(\\\"hostname:1234\\\"); -- Shut down impalad running on host at port 1234  with the default deadline.\n:SHUTDOWN(10); - Shut down the current impalad after 10 seconds.\n:SHUTDOWN('hostname', 10); - Shut down impalad running on hostname when all queries running on hostname finish, or after 10 seconds.\n:SHUTDOWN('hostname:11', 10 * 60); -- Shut down impalad running on hostname at port 11 when all queries running on hostname finish, or after 600 seconds.\n:SHUTDOWN(0); -- Perform an immdediate shutdown of the current impalad.</div><p><b>Added in:</b>Impala 3.1</p></div></div></div>","title":"SHUTDOWN Statement"}