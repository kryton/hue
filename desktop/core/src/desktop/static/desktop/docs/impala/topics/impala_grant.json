{"body":"<div><div id=\"grant\"><div class=\"hue-doc-title\">GRANT Statement (Impala 2.0 or higher only)</div><div><p>\n      The <span class=\"hue-doc-codeph\">GRANT</span> statement grants a privilege on a specified object to a role or\n      grants a role to a group.\n    </p><p id=\"syntax_blurb\"><b>Syntax:</b></p><div class=\"hue-doc-codeblock\">GRANT ROLE <span class=\"hue-doc-varname\">role_name</span> TO GROUP <span class=\"hue-doc-varname\">group_name</span>\n\nGRANT <span class=\"hue-doc-varname\">privilege</span> ON <span class=\"hue-doc-varname\">object_type</span><span class=\"hue-doc-varname\">object_name</span>\n   TO [ROLE] <span class=\"hue-doc-varname\">roleName</span>\n   [WITH GRANT OPTION]\n\n<span class=\"hue-doc-ph\" id=\"privileges\">privilege ::= ALL | ALTER | CREATE | DROP | INSERT | REFRESH | SELECT | SELECT(<span class=\"hue-doc-varname\">column_name</span>)</span><span class=\"hue-doc-ph\" id=\"priv_objs\">object_type ::= SERVER | URI | DATABASE | TABLE</span></div><p>\n      Typically, the object name is an identifier. For URIs, it is a string literal.\n    </p><p id=\"privileges_blurb\"><b>Required privileges:</b></p><p>\n      Only administrative users (initially, a predefined set of users specified in the Sentry\n      service configuration file) can use this statement.\n    </p><p>\n      Only Sentry administrative users can grant roles to a group.\n    </p><p>\n      The <span class=\"hue-doc-codeph\">WITH GRANT OPTION</span> clause allows members of the specified role to\n      issue <span class=\"hue-doc-codeph\">GRANT</span> and <span class=\"hue-doc-codeph\">REVOKE</span> statements for those same\n      privileges. Hence, if a role has the <span class=\"hue-doc-codeph\">ALL</span> privilege on a database and the\n      <span class=\"hue-doc-codeph\">WITH GRANT OPTION</span> set, users granted that role can execute\n      <span class=\"hue-doc-codeph\">GRANT</span>/<span class=\"hue-doc-codeph\">REVOKE</span> statements only for that database or child\n      tables of the database. This means a user could revoke the privileges of the user that\n      provided them the <span class=\"hue-doc-codeph\">GRANT OPTION</span>.\n    </p><p>\n      The ability to grant or revoke <span class=\"hue-doc-codeph\">SELECT</span> privilege on specific columns is\n      available in Impala 2.3 and higher. See\n      \n    the documentation for Apache Sentry\n   for details.\n    </p><p><b>Usage notes:</b></p><p>\n      You can only grant the <span class=\"hue-doc-codeph\">ALL</span> privilege to the <span class=\"hue-doc-codeph\">URI</span> object.\n      Finer-grained privileges mentioned below on a <span class=\"hue-doc-codeph\">URI</span> are not supported.\n    </p><p id=\"sentry_privileges_objects\">The table below lists the minimum level\n        of privileges and the scope required to execute SQL statements in\n          Impala 3.0 and higher. The following notations\n        are used:<ul><li><b>ANY</b> denotes the <span class=\"hue-doc-codeph\">SELECT</span>,\n              <span class=\"hue-doc-codeph\">INSERT</span>, <span class=\"hue-doc-codeph\">CREATE</span>,\n              <span class=\"hue-doc-codeph\">ALTER</span>, <span class=\"hue-doc-codeph\">DROP</span>, <b><i>or</i></b><span class=\"hue-doc-codeph\">REFRESH</span> privilege.</li><li><b>ALL</b> privilege denotes the <span class=\"hue-doc-codeph\">SELECT</span>,\n              <span class=\"hue-doc-codeph\">INSERT</span>, <span class=\"hue-doc-codeph\">CREATE</span>,\n              <span class=\"hue-doc-codeph\">ALTER</span>, <span class=\"hue-doc-codeph\">DROP</span>, <b><i>and</i></b><span class=\"hue-doc-codeph\">REFRESH</span> privileges.</li><li>The owner of an object effectively has the ALL privilege on the\n            object.</li><li>The parent levels of the specified scope are implicitly supported\n            where a scope refers to the specific level in the object hierarchy\n            that the privilege is granted. For example, if a privilege is listed\n            with the <span class=\"hue-doc-codeph\">TABLE</span> scope, the same privilege granted on\n              <span class=\"hue-doc-codeph\">DATABASE</span> and <span class=\"hue-doc-codeph\">SERVER</span> will allow\n            the user to execute the specified SQL statement.</li></ul><table id=\"sentry_privileges_objects_tab\"><tbody><tr><td><b>SQL Statement</b></td><td><b>Privileges</b></td><td><b>Scope</b></td></tr><tr><td>SELECT</td><td>SELECT</td><td>TABLE</td></tr><tr><td>WITH SELECT</td><td>SELECT</td><td>TABLE</td></tr><tr><td>EXPLAIN SELECT</td><td>SELECT</td><td>TABLE</td></tr><tr><td>INSERT</td><td>INSERT</td><td>TABLE</td></tr><tr><td>EXPLAIN INSERT</td><td>INSERT</td><td>TABLE</td></tr><tr><td>TRUNCATE</td><td>INSERT</td><td>TABLE</td></tr><tr><td>LOAD</td><td>INSERT</td><td>TABLE</td></tr><tr><td/><td>ALL</td><td>URI</td></tr><tr><td>CREATE DATABASE</td><td>CREATE</td><td>SERVER</td></tr><tr><td>CREATE DATABASE LOCATION</td><td>CREATE</td><td>SERVER</td></tr><tr><td/><td>ALL</td><td>URI</td></tr><tr><td>CREATE TABLE</td><td>CREATE</td><td>DATABASE</td></tr><tr><td>CREATE TABLE LIKE</td><td>CREATE</td><td>DATABASE</td></tr><tr><td/><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>CREATE TABLE AS SELECT</td><td>CREATE</td><td>DATABASE</td></tr><tr><td/><td>INSERT</td><td>DATABASE</td></tr><tr><td/><td>SELECT</td><td>TABLE</td></tr><tr><td>EXPLAIN CREATE TABLE AS SELECT</td><td>CREATE</td><td>DATABASE</td></tr><tr><td/><td>INSERT</td><td>DATABASE</td></tr><tr><td/><td>SELECT</td><td>TABLE</td></tr><tr><td>CREATE TABLE LOCATION</td><td>CREATE</td><td>TABLE</td></tr><tr><td/><td>ALL</td><td>URI</td></tr><tr><td>CREATE VIEW</td><td>CREATE</td><td>DATABASE</td></tr><tr><td/><td>SELECT</td><td>TABLE</td></tr><tr><td>ALTER DATABASE SET OWNER</td><td>ALL WITH GRANT</td><td>DATABASE</td></tr><tr><td>ALTER TABLE</td><td>ALTER</td><td>TABLE</td></tr><tr><td>ALTER TABLE SET LOCATION</td><td>ALTER</td><td>TABLE</td></tr><tr><td/><td>ALL</td><td>URI</td></tr><tr><td>ALTER TABLE RENAME</td><td>CREATE</td><td>DATABASE</td></tr><tr><td/><td>ALL</td><td>TABLE</td></tr><tr><td>ALTER TABLE SET OWNER</td><td>ALL WITH GRANT</td><td>TABLE</td></tr><tr><td>ALTER VIEW</td><td>ALTER</td><td>TABLE</td></tr><tr><td/><td>SELECT</td><td>TABLE</td></tr><tr><td>ALTER VIEW RENAME</td><td>CREATE</td><td>DATABASE</td></tr><tr><td/><td>ALL</td><td>TABLE</td></tr><tr><td>ALTER VIEW SET OWNER</td><td>ALL WITH GRANT</td><td>VIEW</td></tr><tr><td>DROP DATABASE</td><td>DROP</td><td>DATABASE</td></tr><tr><td>DROP TABLE</td><td>DROP</td><td>TABLE</td></tr><tr><td>DROP VIEW</td><td>DROP</td><td>TABLE</td></tr><tr><td>CREATE FUNCTION</td><td>CREATE</td><td>DATABASE</td></tr><tr><td/><td>ALL</td><td>URI</td></tr><tr><td>DROP FUNCTION</td><td>DROP</td><td>DATABASE</td></tr><tr><td>COMPUTE STATS</td><td>ALTER and SELECT</td><td>TABLE</td></tr><tr><td>DROP STATS</td><td>ALTER</td><td>TABLE</td></tr><tr><td>INVALIDATE METADATA</td><td>REFRESH</td><td>SERVER</td></tr><tr><td>INVALIDATE METADATA &lt;table&gt;</td><td>REFRESH</td><td>TABLE</td></tr><tr><td>REFRESH &lt;table&gt;</td><td>REFRESH</td><td>TABLE</td></tr><tr><td>REFRESH FUNCTIONS</td><td>REFRESH</td><td>DATABASE</td></tr><tr><td>COMMENT ON DATABASE</td><td>ALTER</td><td>DATABASE</td></tr><tr><td>COMMENT ON TABLE</td><td>ALTER</td><td>TABLE</td></tr><tr><td>COMMENT ON VIEW</td><td>ALTER</td><td>TABLE</td></tr><tr><td>COMMENT ON COLUMN</td><td>ALTER</td><td>TABLE</td></tr><tr><td>DESCRIBE DATABASE</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>DATABASE</td></tr><tr><td>DESCRIBE &lt;table/view&gt;</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>If the user has the SELECT privilege at the COLUMN level,\n                  only the columns the user has access will show.</td><td>SELECT</td><td>COLUMN</td></tr><tr><td>USE</td><td>ANY</td><td>TABLE</td></tr><tr><td>SHOW DATABASES</td><td>ANY</td><td>TABLE</td></tr><tr><td>SHOW TABLES</td><td>ANY</td><td>TABLE</td></tr><tr><td>SHOW FUNCTIONS</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>DATABASE</td></tr><tr><td>SHOW PARTITIONS</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>SHOW TABLE STATS</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>SHOW COLUMN STATS</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>SHOW FILES</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>SHOW CREATE TABLE</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>SHOW CREATE VIEW</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>SHOW CREATE FUNCTION</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>DATABASE</td></tr><tr><td>SHOW RANGE PARTITIONS (Kudu only)</td><td>SELECT, INSERT, <b><i>or</i></b> REFRESH</td><td>TABLE</td></tr><tr><td>UPDATE (Kudu only)</td><td>ALL</td><td>TABLE</td></tr><tr><td>EXPLAIN UPDATE (Kudu only)</td><td>ALL</td><td>TABLE</td></tr><tr><td>UPSERT (Kudu only)</td><td>ALL</td><td>TABLE</td></tr><tr><td>WITH UPSERT (Kudu only)</td><td>ALL</td><td>TABLE</td></tr><tr><td>EXPLAIN UPSERT (Kudu only)</td><td>ALL</td><td>TABLE</td></tr><tr><td>DELETE (Kudu only)</td><td>ALL</td><td>TABLE</td></tr><tr><td>EXPLAIN DELETE (Kudu only)</td><td>ALL</td><td>TABLE</td></tr></tbody></table></p><p id=\"compatibility_blurb\"><b>Compatibility:</b></p><p><ul><li>\n          The Impala <span class=\"hue-doc-codeph\">GRANT</span> and <span class=\"hue-doc-codeph\">REVOKE</span> statements are available\n          in Impala 2.0 and later.\n        </li><li>\n          In Impala 1.4 and later, Impala can make use of any roles and\n          privileges specified by the <span class=\"hue-doc-codeph\">GRANT</span> and <span class=\"hue-doc-codeph\">REVOKE</span>\n          statements in Hive, when your system is configured to use the Sentry service instead\n          of the file-based policy mechanism.\n        </li><li>\n          The Impala <span class=\"hue-doc-codeph\">GRANT</span> and <span class=\"hue-doc-codeph\">REVOKE</span> statements for\n          privileges do not require the <span class=\"hue-doc-codeph\">ROLE</span> keyword to be repeated before each\n          role name, unlike the equivalent Hive statements.\n        </li><li id=\"grant_revoke_single\">\n          Currently, each Impala <span class=\"hue-doc-codeph\">GRANT</span> or <span class=\"hue-doc-codeph\">REVOKE</span> statement can only grant or\n          revoke a single privilege to or from a single role.\n        </li></ul></p><p id=\"cancel_blurb_no\"><b>Cancellation:</b> Cannot be cancelled.\n      </p><p id=\"permissions_blurb_no\"><b>HDFS permissions:</b> This statement does not touch any HDFS files or directories,\n        therefore no HDFS permissions are required.\n      </p><p id=\"kudu_blurb\"><b>Kudu considerations:</b></p><p id=\"kudu_sentry_limitations\">\n        Access to Kudu tables must be granted to and revoked from roles with the\n        following considerations:\n        <ul><li>\n            Only users with the <span class=\"hue-doc-codeph\">ALL</span> privilege on\n              <span class=\"hue-doc-codeph\">SERVER</span> can create external Kudu tables.\n          </li><li>\n            The <span class=\"hue-doc-codeph\">ALL</span> privileges on <span class=\"hue-doc-codeph\">SERVER</span> is\n            required to specify the <span class=\"hue-doc-codeph\">kudu.master_addresses</span>\n            property in the <span class=\"hue-doc-codeph\">CREATE TABLE</span> statements for managed\n            tables as well as external tables.\n          </li><li>\n            Access to Kudu tables is enforced at the table level and at the\n            column level.\n          </li><li>\n            The <span class=\"hue-doc-codeph\">SELECT</span>- and <span class=\"hue-doc-codeph\">INSERT</span>-specific\n            permissions are supported.\n          </li><li>\n            The <span class=\"hue-doc-codeph\">DELETE</span>, <span class=\"hue-doc-codeph\">UPDATE</span>, and\n            <span class=\"hue-doc-codeph\">UPSERT</span> operations require the <span class=\"hue-doc-codeph\">ALL</span>\n            privilege.\n          </li></ul>\n        Because non-SQL APIs can access Kudu data without going through Sentry\n        authorization, currently the Sentry support is considered preliminary\n        and subject to change.\n      </p><p id=\"related_info\"><b>Related information:</b></p><p><a class=\"hue-doc-external-link\" href=\"https://www.cloudera.com/documentation/enterprise/latest/topics/impala_authorization.html#authorization\" target=\"_blank\">Enabling Sentry Authorization for Impala</a>,\n      <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_revoke.xml\" data-doc-anchor-id=\"revoke\">REVOKE Statement (Impala 2.0 or higher only)</a>,\n      <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_create_role.xml\" data-doc-anchor-id=\"create_role\">CREATE ROLE Statement (Impala 2.0 or higher only)</a>,\n      <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_drop_role.xml\" data-doc-anchor-id=\"drop_role\">DROP ROLE Statement (Impala 2.0 or higher only)</a>, <a class=\"hue-doc-internal-link\" href=\"javascript:void(0);\" data-doc-ref=\"topics/impala_show.xml\" data-doc-anchor-id=\"show\">SHOW Statement</a></p></div></div></div>","title":"GRANT Statement (Impala 2.0 or higher only)"}