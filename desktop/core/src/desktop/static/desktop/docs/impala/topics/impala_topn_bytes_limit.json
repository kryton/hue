{"body":"<div><div id=\"topn_bytes_limit\"><div class=\"hue-doc-title\">TOPN_BYTES_LIMIT Query Option (Impala 3.1 or higher only)</div><div><p>\n      The <span class=\"hue-doc-codeph\">TOPN_BYTES_LIMIT</span> query option places a limit on the amount of\n      estimated memory that Impala can process for <i>top-N</i> queries.\n    </p><p><i>Top-N</i> queries are the queries that include both <span class=\"hue-doc-codeph\">ORDER BY</span> and\n      <span class=\"hue-doc-codeph\">LIMIT</span> clauses. <i>Top-N</i> queries don't spill to disk so they have to\n      keep all rows they process in memory, and those queries can cause out-of-memory issues\n      when running with a large limit and an offset. If the Impala planner estimates that a\n      <i>top-N</i> operator will process more bytes than the <span class=\"hue-doc-codeph\">TOPN_BYTES_LIMIT</span>\n      value, it will replace the <i>top-N</i> operator with the <i>sort</i> operator. Switching\n      to the <i>sort</i> operator allows Impala to spill to disk, thus requiring less memory\n      than <i>top-N</i>, but potentially with performance penalties.\n    </p><p>\n      The option has no effect when set to 0 or -1.\n    </p><p><b>Syntax:</b></p><div class=\"hue-doc-codeblock\">SET TOPN_BYTES_LIMIT=<span class=\"hue-doc-varname\">limit</span></div><p><b>Type:</b> Number\n    </p><p><b>Default:</b> 536870912 (512 MB)\n    </p><p><b>Added in:</b>Impala 3.1</p></div></div></div>","title":"TOPN_BYTES_LIMIT Query Option (Impala 3.1 or higher only)"}